<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="学习,笔记,JavaScript," />





  <link rel="alternate" href="/atom.xml" title="一方天地" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.0.1" />






<meta name="description" content="继续学习JavaScript，教程来自w3schools。">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript 学习笔记之四">
<meta property="og:url" content="http://rrkaige.com/2016/10/08/JavaScript学习笔记之四/index.html">
<meta property="og:site_name" content="一方天地">
<meta property="og:description" content="继续学习JavaScript，教程来自w3schools。">
<meta property="og:image" content="http://ob0mgqhy4.bkt.clouddn.com/20161008-myblog71.jpg">
<meta property="og:updated_time" content="2016-11-29T14:56:08.887Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript 学习笔记之四">
<meta name="twitter:description" content="继续学习JavaScript，教程来自w3schools。">
<meta name="twitter:image" content="http://ob0mgqhy4.bkt.clouddn.com/20161008-myblog71.jpg">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: false,
    motion: true,
    duoshuo: {
      userId: 6312606111681742000,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://rrkaige.com/2016/10/08/JavaScript学习笔记之四/"/>

  <title> JavaScript 学习笔记之四 | 一方天地 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">一方天地</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">面朝大海，春暖花开</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-bars"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-setup">
          <a href="/setup" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-anchor"></i> <br />
            
            建站
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
	  
	  <script charset="Shift_JIS" src="http://chabudai.sakura.ne.jp/blogparts/honehoneclock/honehone_clock_tr.js"></script>
	  
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">

 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                JavaScript 学习笔记之四
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-08T15:56:48+08:00" content="2016-10-08">
              2016-10-08
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Web征途/" itemprop="url" rel="index">
                    <span itemprop="name">Web征途</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/08/JavaScript学习笔记之四/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/08/JavaScript学习笔记之四/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2016/10/08/JavaScript学习笔记之四/" class="leancloud_visitors" data-flag-title="JavaScript 学习笔记之四">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">热度 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p> 继续学习 JavaScript，教程来自 <a href="http://www.w3schools.com/js/" target="_blank" rel="external">w3schools</a>。</p>
<p><img src="http://ob0mgqhy4.bkt.clouddn.com/20161008-myblog71.jpg" alt="JavaScript"></p>
<a id="more"></a>
<h3 id="Dates"><a href="#Dates" class="headerlink" title="Dates"></a>Dates</h3><p>The Date object lets you work with dates (years, months, days, hours, minutes, seconds, and milliseconds).</p>
<p>A JavaScript date can be written as a string:</p>
<p><strong>Sat Oct 08 2016 16:02:23 GMT+0800 (中国标准时间)</strong></p>
<p>or as a number:</p>
<p><strong>1475913743928</strong></p>
<p>Dates written as numbers, specifies the number of milliseconds since January 1, 1970, 00:00:00.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;p id=&quot;demo&quot;&gt;&lt;/p&gt;</div><div class="line">&lt;script&gt;</div><div class="line">document.getElementById(&quot;demo&quot;).innerHTML = Date();</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>Date objects are created with the <code>new Date()</code> constructor.</p>
<ul>
<li>Using <code>new Date()</code>, creates a new date object with the <strong>current date and time</strong></li>
<li>Using <code>new Date(date string)</code>, creates a new date object from the <strong>specified date and time</strong></li>
<li>Using <code>new Date(number)</code>, creates a new date object as <strong>zero time plus the number</strong></li>
<li>Using <code>new Date(7 numbers)</code>, creates a new date object with the <strong>specified date and time</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">new Date()</div><div class="line">new Date(milliseconds)</div><div class="line">new Date(dateString)</div><div class="line">new Date(year, month, day, hours, minutes, seconds, milliseconds)</div></pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ul>
<li>JavaScript dates are calculated in milliseconds from 01 January, 1970 00:00:00 Universal Time (UTC). One day contains 86,400,000 millisecond.</li>
<li>JavaScript counts months from 0 to 11. January is 0. December is 11.</li>
</ul>
<p>When you display a date object in HTML, it is automatically converted to a string, with the <code>toString()</code> method.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;p id=&quot;demo&quot;&gt;&lt;/p&gt;</div><div class="line">&lt;script&gt;</div><div class="line">d = new Date();</div><div class="line">document.getElementById(&quot;demo&quot;).innerHTML = d.toString();</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>The <code>toUTCString()</code> method converts a date to a UTC string (a date display standard).</p>
<p>The <code>toDateString()</code> method converts a date to a more readable format.</p>
<p><strong>Note:</strong> Date objects are static. The computer time is ticking, but date objects, once created, are not.</p>
<p>When setting a date, without specifying the time zone, JavaScript will use the browser’s time zone. When getting a date, without specifying the time zone, the result is converted to the browser’s time zone.</p>
<p>In other words: If a date/time is created in GMT (Greenwich Mean Time), the date/time will be converted to CDT (Central US Daylight Time) if a user browses from central US.</p>
<h3 id="Date-Formats"><a href="#Date-Formats" class="headerlink" title="Date Formats"></a>Date Formats</h3><p>There are generally 4 types of JavaScript date input formats.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>ISO Date</td>
<td>“2015-03-25” (The International Standard)</td>
</tr>
<tr>
<td>Short Date</td>
<td>“03/25/2015” or “2015/03/25”</td>
</tr>
<tr>
<td>Long Date</td>
<td>“Mar 25 2015” or “25 Mar 2015”</td>
</tr>
<tr>
<td>Full Date</td>
<td>“Wednesday March 25 2015”</td>
</tr>
</tbody>
</table>
<p>Independent of input format, JavaScript will (by default) output dates in full text string format.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Wed Mar 25 2015 08:00:00 GMT+0800 (中国标准时间)</div></pre></td></tr></table></figure>
<p>ISO 8601 is the international standard for the representation of dates and times. The ISO 8601 syntax (YYYY-MM-DD) is also the preferred JavaScript date format.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var d1 = new Date(&quot;2015-03-25&quot;);</div><div class="line">var d2 = new Date(&quot;2015-03&quot;);</div><div class="line">var d3 = new Date(&quot;2015&quot;);</div><div class="line">var d4 = new Date(&quot;2015-03-25T12:00:00&quot;);</div></pre></td></tr></table></figure>
<p>Short dates are most often written with an “MM/DD/YYYY” syntax like this.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var d5 = new Date(&quot;03/25/2015&quot;);</div><div class="line">var d6 = new Date(&quot;2015/03/25&quot;);</div></pre></td></tr></table></figure>
<p>Long dates are most often written with a “MMM DD YYYY” syntax like this.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var d7 = new Date(&quot;Mar 25 2015&quot;);</div><div class="line">var d8 = new Date(&quot;25 Mar 2015&quot;);</div><div class="line">var d9 = new Date(&quot;January 25 2015&quot;);</div><div class="line">var d10 = new Date(&quot;JANUARY, 25, 2015&quot;);</div></pre></td></tr></table></figure>
<p>JavaScript will accept date strings in “full JavaScript format”.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var d11 = new Date(&quot;Wed Mar 25 2015 09:56:24 GMT+0100 (W. Europe Standard Time)&quot;);</div></pre></td></tr></table></figure>
<h3 id="Date-Methods"><a href="#Date-Methods" class="headerlink" title="Date Methods"></a>Date Methods</h3><p>Get methods are used for getting a part of a date. Here are the most common (alphabetically).</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>getDate()</code></td>
<td>Get the day as a number (1-31)</td>
</tr>
<tr>
<td><code>getDay()</code></td>
<td>Get the weekday as a number (0-6)</td>
</tr>
<tr>
<td><code>getFullYear()</code></td>
<td>Get the four digit year (yyyy)</td>
</tr>
<tr>
<td><code>getHours()</code></td>
<td>Get the hour (0-23)</td>
</tr>
<tr>
<td><code>getMilliseconds()</code></td>
<td>Get the milliseconds (0-999)</td>
</tr>
<tr>
<td><code>getMinutes()</code></td>
<td>Get the minutes (0-59)</td>
</tr>
<tr>
<td><code>getMonth()</code></td>
<td>Get the month (0-11)</td>
</tr>
<tr>
<td><code>getSeconds()</code></td>
<td>Get the seconds (0-59)</td>
</tr>
<tr>
<td><code>getTime()</code></td>
<td>Get the time (milliseconds since January 1, 1970)</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">var d = new Date();</div><div class="line">var days = [&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;];</div><div class="line">document.getElementById(&quot;demo&quot;).innerHTML = days[d.getDay()];</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p><strong>Note:</strong> In JavaScript, the first day of the week (0) means “Sunday”, even if some countries in the world consider the first day of the week to be “Monday”.</p>
<p>Set methods are used for setting a part of a date. Here are the most common (alphabetically).</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>setDate()</code></td>
<td>Set the day as a number (1-31)</td>
</tr>
<tr>
<td><code>setFullYear()</code></td>
<td>Set the year (optionally month and day)</td>
</tr>
<tr>
<td><code>setHours()</code></td>
<td>Set the hour (0-23)</td>
</tr>
<tr>
<td><code>setMilliseconds()</code></td>
<td>Set the milliseconds (0-999)</td>
</tr>
<tr>
<td><code>setMinutes()</code></td>
<td>Set the minutes (0-59)</td>
</tr>
<tr>
<td><code>setMonth()</code></td>
<td>Set the month (0-11)</td>
</tr>
<tr>
<td><code>setSeconds()</code></td>
<td>Set the seconds (0-59)</td>
</tr>
<tr>
<td><code>setTime()</code></td>
<td>Set the time (milliseconds since January 1, 1970)</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">var d = new Date();</div><div class="line">d.setDate(d.getDate() + 50);</div><div class="line">document.getElementById(&quot;demo&quot;).innerHTML = d;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p><strong>Note:</strong> If adding days, shifts the month or year, the changes are handled automatically by the Date object.</p>
<p>If you have a valid date string, you can use the <code>Date.parse()</code> method to convert it to milliseconds.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">var msec = Date.parse(&quot;March 21, 2012&quot;);</div><div class="line">var d = new Date(msec);</div><div class="line">document.getElementById(&quot;demo&quot;).innerHTML = d;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>Dates can easily be compared.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var today, someday, text;</div><div class="line">today = new Date();</div><div class="line">someday = new Date();</div><div class="line">someday.setFullYear(2100, 0, 14);</div><div class="line"></div><div class="line">if (someday &gt; today) &#123;</div><div class="line">    text = &quot;Today is before January 14, 2100.&quot;;</div><div class="line">&#125; else &#123;</div><div class="line">    text = &quot;Today is after January 14, 2100.&quot;;</div><div class="line">&#125;</div><div class="line">document.getElementById(&quot;demo&quot;).innerHTML = text;</div></pre></td></tr></table></figure>
<h3 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h3><p>JavaScript arrays are used to store multiple values in a single variable. Using an array literal is the easiest way to create a JavaScript Array.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var array-name = [item1, item2, ...];</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var cars = [&quot;Saab&quot;, &quot;Volvo&quot;, &quot;BMW&quot;];</div><div class="line">var cars = [</div><div class="line">    &quot;Saab&quot;,</div><div class="line">    &quot;Volvo&quot;,</div><div class="line">    &quot;BMW&quot;</div><div class="line">];</div><div class="line">var cars = new Array(&quot;Saab&quot;, &quot;Volvo&quot;, &quot;BMW&quot;);</div></pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ul>
<li>The two examples above do exactly the same. There is no need to use new Array().</li>
<li>For simplicity, readability and execution speed, use the first one (the array literal method).</li>
</ul>
<p>You refer to an array element by referring to the <strong>index number</strong>.</p>
<p>[0] is the first element in an array. [1] is the second. Array indexes start with 0.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var cars = [&quot;Saab&quot;, &quot;Volvo&quot;, &quot;BMW&quot;];</div><div class="line">document.getElementById(&quot;demo&quot;).innerHTML = cars[0];</div></pre></td></tr></table></figure>
<p>With JavaScript, the full array can be accessed by referring to the array name.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var cars = [&quot;Saab&quot;, &quot;Volvo&quot;, &quot;BMW&quot;];</div><div class="line">document.getElementById(&quot;demo&quot;).innerHTML = cars;</div></pre></td></tr></table></figure>
<p>JavaScript variables can be objects. Arrays are special kinds of objects. Because of this, you can have variables of different types in the same Array.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">myArray[0] = Date.now;</div><div class="line">myArray[1] = myFunction;</div><div class="line">myArray[2] = myCars;</div></pre></td></tr></table></figure>
<p>The <strong>length</strong> property of an array returns the length of an array (the number of array elements).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">fruits.length;                       // the length of fruits is 4</div></pre></td></tr></table></figure>
<p>The best way to loop through an array, is using a “for” loop.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var fruits, text, fLen, i;</div><div class="line"></div><div class="line">fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">fLen = fruits.length;</div><div class="line">text = &quot;&lt;ul&gt;&quot;;</div><div class="line">for (i = 0; i &lt; fLen; i++) &#123;</div><div class="line">    text += &quot;&lt;li&gt;&quot; + fruits[i] + &quot;&lt;/li&gt;&quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>The easiest way to add a new element to an array is using the push method.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">fruits.push(&quot;Lemon&quot;);                // adds a new element (Lemon) to fruits</div></pre></td></tr></table></figure>
<p>New element can also be added to an array using the length property.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">fruits[fruits.length] = &quot;Lemon&quot;;     // adds a new element (Lemon) to fruits</div></pre></td></tr></table></figure>
<p>Many programming languages support arrays with named indexes. Arrays with named indexes are called associative arrays (or hashes).</p>
<p>JavaScript does <strong>not</strong> support arrays with named indexes. In JavaScript, <strong>arrays</strong> always use <strong>numbered indexes</strong>.</p>
<p>In JavaScript, <strong>arrays</strong> use <strong>numbered</strong> indexes, while <strong>objects</strong> use <strong>named</strong> indexes.</p>
<p><strong>Note:</strong> Arrays are a special kind of objects, with numbered indexes.</p>
<p>A common question is: How do I know if a variable is an array?</p>
<p>The problem is that the JavaScript operator <strong>typeof</strong> returns “object”:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">typeof fruits;             // returns object</div></pre></td></tr></table></figure>
<p>The typeof operator returns object because a JavaScript array is an object.</p>
<p>To solve this problem ECMAScript 5 defines a new method <code>Array.isArray()</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Array.isArray(fruits);     // returns true</div></pre></td></tr></table></figure>
<p>The problem with this solution is that ECMAScript 5 is <strong>not supported in older browsers</strong>.</p>
<p>To solve this problem you can create your own <code>isArray()</code> function:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">function isArray(x) &#123;</div><div class="line">    return x.constructor.toString().indexOf(&quot;Array&quot;) &gt; -1;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>The function above always returns true if the argument is an array.</p>
<p>Or more precisely: it returns true if the object prototype contains the word “Array”.</p>
<p>The <strong>instanceof</strong> operator returns true if an object is created by a given constructor:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">The instanceof operator returns true if an object is created by a given constructor:</div></pre></td></tr></table></figure>
<h3 id="Array-Methods"><a href="#Array-Methods" class="headerlink" title="Array Methods"></a>Array Methods</h3><p>The JavaScript method <code>toString()</code> converts an array to a string of (comma separated) array values.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">document.getElementById(&quot;demo&quot;).innerHTML = fruits.toString();    //Banana,Orange,Apple,Mango</div></pre></td></tr></table></figure>
<p>The <code>join()</code> method also joins all array elements into a string. It behaves just like toString(), but in addition you can specify the separator.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;,&quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">document.getElementById(&quot;demo&quot;).innerHTML = fruits.join(&quot; * &quot;);    //Banana * Orange * Apple * Mango</div></pre></td></tr></table></figure>
<p>The <code>pop()</code> method removes the <strong>last</strong> element from an array.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">fruits.pop();              // Removes the last element (&quot;Mango&quot;) from fruits</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">var x = fruits.pop();      // the value of x is &quot;Mango&quot;</div></pre></td></tr></table></figure>
<p>The <code>push()</code> method adds a new element to an array (at the <strong>end</strong>).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">fruits.push(&quot;Kiwi&quot;);       //  Adds a new element (&quot;Kiwi&quot;) to fruits</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">var x = fruits.push(&quot;Kiwi&quot;);   //  the value of x is 5</div></pre></td></tr></table></figure>
<p><strong>Shifting</strong> is equivalent to popping, working on the <strong>first</strong> element instead of the last.</p>
<p>The <code>shift()</code> method removes the <strong>first</strong> array element and “shifts” all other elements to a lower index.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">fruits.shift();            // Removes the first element &quot;Banana&quot; from fruits</div></pre></td></tr></table></figure>
<p>The <code>unshift()</code> method adds a new element to an array (at the <strong>beginning</strong>), and “unshifts” older elements.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">fruits.unshift(&quot;Lemon&quot;);    // Adds a new element &quot;Lemon&quot; to fruits</div></pre></td></tr></table></figure>
<p>The <code>shift()</code> method returns the string that was “shifted out”. The <code>unshift()</code> method returns the new array length.</p>
<p>Since JavaScript arrays are objects, elements can be deleted by using the JavaScript operator <strong>delete</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">delete fruits[0];           // Changes the first element in fruits to undefined</div></pre></td></tr></table></figure>
<p><strong>Note:</strong> Using delete may leave <strong>undefined holes</strong> in the array. Use <code>pop()</code> or <code>shift()</code> instead.</p>
<p>The <code>splice()</code> method can be used to add new items to an array.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">fruits.splice(2, 0, &quot;Lemon&quot;, &quot;Kiwi&quot;);</div></pre></td></tr></table></figure>
<ul>
<li>The first parameter (2) defines the position <strong>where</strong> new elements should be <strong>added</strong> (spliced in).</li>
<li>The second parameter (0) defines <strong>how many</strong> elements should be <strong>removed</strong>.</li>
<li>The rest of the parameters (“Lemon” , “Kiwi”) define the new elements to be <strong>added</strong>.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">fruits.splice(0, 1);        // Removes the first element of fruits</div></pre></td></tr></table></figure>
<p>The <code>concat()</code> method creates a new array by concatenating two arrays.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var arr1 = [&quot;Cecilie&quot;, &quot;Lone&quot;];</div><div class="line">var arr2 = [&quot;Emil&quot;, &quot;Tobias&quot;,&quot;Linus&quot;];</div><div class="line">var arr3 = [&quot;Robin&quot;, &quot;Morgan&quot;];</div><div class="line">var myChildren = arr1.concat(arr2, arr3);     // Concatenates arr1 with arr2 and arr3</div></pre></td></tr></table></figure>
<p>The <code>slice()</code> method slices out a piece of an array into a new array.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Lemon&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">var citrus = fruits.slice(1, 3);</div></pre></td></tr></table></figure>
<p>The method then selects elements from the start argument, and up to (but <strong>not including</strong>) the end argument.</p>
<p><strong>Note:</strong> The <code>slice()</code> method creates a new array. It does not remove any elements from the source array.</p>
<p>The <code>valueOf()</code> method is the default behavior for an array. It converts an array to a primitive value.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">document.getElementById(&quot;demo&quot;).innerHTML = fruits.valueOf();</div></pre></td></tr></table></figure>
<h3 id="Sorting-Arrays"><a href="#Sorting-Arrays" class="headerlink" title="Sorting Arrays"></a>Sorting Arrays</h3><p>The <code>sort()</code> method sorts an array alphabetically.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">fruits.sort();            // Sorts the elements of fruits</div></pre></td></tr></table></figure>
<p>The <code>reverse()</code> method reverses the elements in an array. You can use it to sort an array in descending order.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var fruits = [&quot;Banana&quot;, &quot;Orange&quot;, &quot;Apple&quot;, &quot;Mango&quot;];</div><div class="line">fruits.sort();            // Sorts the elements of fruits </div><div class="line">fruits.reverse();         // Reverses the order of the elements</div></pre></td></tr></table></figure>
<p>By default, the sort() function sorts values as <strong>strings</strong>.</p>
<p>This works well for strings (“Apple” comes before “Banana”). However, if numbers are sorted as strings, “25” is bigger than “100”, because “2” is bigger than “1”. Because of this, the <code>sort()</code> method will produce incorrect result when sorting numbers.</p>
<p>You can fix this by providing a <strong>compare function</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var points = [40, 100, 1, 5, 25, 10];</div><div class="line">points.sort(function(a, b)&#123;return a - b&#125;);</div></pre></td></tr></table></figure>
<ul>
<li>Sorting an Array in Random Order</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var points = [40, 100, 1, 5, 25, 10];</div><div class="line">points.sort(function(a, b)&#123;return 0.5 - Math.random()&#125;);</div></pre></td></tr></table></figure>
<ul>
<li>Find the Highest (or Lowest) Value</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var points = [40, 100, 1, 5, 25, 10];</div><div class="line">points.sort(function(a, b)&#123;return b - a&#125;);    // now points[0] contains the highest value</div></pre></td></tr></table></figure>
<ul>
<li>Sorting Object Arrays</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var cars = [</div><div class="line">&#123;type:&quot;Volvo&quot;, year:2016&#125;,</div><div class="line">&#123;type:&quot;Saab&quot;, year:2001&#125;,</div><div class="line">&#123;type:&quot;BMW&quot;, year:2010&#125;];</div><div class="line">cars.sort(function(a, b)&#123;return a.year - b.year&#125;);</div></pre></td></tr></table></figure>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/学习/" rel="tag">#学习</a>
          
            <a href="/tags/笔记/" rel="tag">#笔记</a>
          
            <a href="/tags/JavaScript/" rel="tag">#JavaScript</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/10/07/一个老人/" rel="next" title="一个老人">
                <i class="fa fa-chevron-left"></i> 一个老人
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/10/09/九月桂花香/" rel="prev" title="九月桂花香">
                九月桂花香 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/10/08/JavaScript学习笔记之四/"
           data-title="JavaScript 学习笔记之四" data-url="http://rrkaige.com/2016/10/08/JavaScript学习笔记之四/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="Kane Ren" />
          <p class="site-author-name" itemprop="name">Kane Ren</p>
          <p class="site-description motion-element" itemprop="description">Just Do It!</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">130</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">131</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
			<a title="�ղص���ǩ��ż��Highһ��^_^" rel="alternate" class="mw-harlem_shake_slow wobble shake" href='javascript:(function() {
    function c() {
        var e = document.createElement("link");
        e.setAttribute("type", "text/css");
        e.setAttribute("rel", "stylesheet");
        e.setAttribute("href", f);
        e.setAttribute("class", l);
        document.body.appendChild(e)
    }
 
    function h() {
        var e = document.getElementsByClassName(l);
        for (var t = 0; t < e.length; t++) {
            document.body.removeChild(e[t])
        }
    }
 
    function p() {
        var e = document.createElement("div");
        e.setAttribute("class", a);
        document.body.appendChild(e);
        setTimeout(function() {
            document.body.removeChild(e)
        }, 100)
    }
 
    function d(e) {
        return {
            height : e.offsetHeight,
            width : e.offsetWidth
        }
    }
 
    function v(i) {
        var s = d(i);
        return s.height > e && s.height < n && s.width > t && s.width < r
    }
 
    function m(e) {
        var t = e;
        var n = 0;
        while (!!t) {
            n += t.offsetTop;
            t = t.offsetParent
        }
        return n
    }
 
    function g() {
        var e = document.documentElement;
        if (!!window.innerWidth) {
            return window.innerHeight
        } else if (e && !isNaN(e.clientHeight)) {
            return e.clientHeight
        }
        return 0
    }
 
    function y() {
        if (window.pageYOffset) {
            return window.pageYOffset
        }
        return Math.max(document.documentElement.scrollTop, document.body.scrollTop)
    }
 
    function E(e) {
        var t = m(e);
        return t >= w && t <= b + w
    }
 
    function S() {
        var e = document.createElement("audio");
        e.setAttribute("class", l);
        e.src = i;
        e.loop = false;
        e.addEventListener("canplay", function() {
            setTimeout(function() {
                x(k)
            }, 500);
            setTimeout(function() {
                N();
                p();
                for (var e = 0; e < O.length; e++) {
                    T(O[e])
                }
            }, 15500)
        }, true);
        e.addEventListener("ended", function() {
            N();
            h()
        }, true);
        e.innerHTML = " <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>";
        document.body.appendChild(e);
        e.play()
    }
 
    function x(e) {
        e.className += " " + s + " " + o
    }
 
    function T(e) {
        e.className += " " + s + " " + u[Math.floor(Math.random() * u.length)]
    }
 
    function N() {
        var e = document.getElementsByClassName(s);
        var t = new RegExp("\\b" + s + "\\b");
        for (var n = 0; n < e.length; ) {
            e[n].className = e[n].className.replace(t, "")
        }
    }
 
    var e = 30;
    var t = 30;
    var n = 350;
    var r = 350;
    var i = "//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.mp3";
    var s = "mw-harlem_shake_me";
    var o = "im_first";
    var u = ["im_drunk", "im_baked", "im_trippin", "im_blown"];
    var a = "mw-strobe_light";
    var f = "//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css";
    var l = "mw_added_css";
    var b = g();
    var w = y();
    var C = document.getElementsByTagName("*");
    var k = null;
    for (var L = 0; L < C.length; L++) {
        var A = C[L];
        if (v(A)) {
            if (E(A)) {
                k = A;
                break
            }
        }
    }
    if (A === null) {
        console.warn("Could not find a node of the right size. Please try a different page.");
        return
    }
    c();
    S();
    var O = [];
    for (var L = 0; L < C.length; L++) {
        var A = C[L];
        if (v(A)) {
            O.push(A)
        }
    }
})()'><i class="fa fa-music"></i> High</a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/kaneren" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Dates"><span class="nav-number">1.</span> <span class="nav-text">Dates</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Date-Formats"><span class="nav-number">2.</span> <span class="nav-text">Date Formats</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Date-Methods"><span class="nav-number">3.</span> <span class="nav-text">Date Methods</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Arrays"><span class="nav-number">4.</span> <span class="nav-text">Arrays</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Array-Methods"><span class="nav-number">5.</span> <span class="nav-text">Array Methods</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sorting-Arrays"><span class="nav-number">6.</span> <span class="nav-text">Sorting Arrays</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear" style="color: black;">2016</span>
  <span class="with-love">
    <i class="fa fa-heart" style="color: red;"></i>
  </span>
  <span class="author" itemprop="copyrightHolder" style="color: black;">Kane Ren</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"rrkaige"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("YW05a4T5MDoaIXON9PbvC9v7-gzGzoHsz", "u0hT5wDpjTJbj43rEwaY8qHu");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0+"°C");
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time+"°C");
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0+"°C");
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time')+"°C");
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time')+"°C");
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
  
  <script type="text/javascript" src="/js/src/particle.js"></script>

</body>
</html>
